summary: A helper program to build and install C-ABI compatible dynamic and static libraries
git-url: https://github.com/lu-zero/cargo-c
src-url: https://github.com/lu-zero/cargo-c/archive/refs/tags/v0.9.29.tar.gz
src-sha: a52bb78cf6db00aa1caf06c679cfece27357c84367d8ac167d715e05e5f5a778
license: MIT
dep-upp: git perl gmake
install: |
    if [ "$TARGET_PLATFORM_ARCH" = "i686" ] ; then
        LIBCLANG_RT_BUILTINS_FILEPATH="$("$CC" -print-libgcc-file-name)"
        export RUSTFLAGS="$RUSTFLAGS -Clink-arg=$LIBCLANG_RT_BUILTINS_FILEPATH"
    fi

    cargow install --features=vendored-openssl
